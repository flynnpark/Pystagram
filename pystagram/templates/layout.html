<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>{% block title %}Pystagram{% endblock %}</title>
    </head>

    <body>
            <div class="">
                <a href="/">홈</a>
                {% if user.is_authenticated %}
                <a href="{% url "profile" %}">{{ user.profile.nickname }}</a>
                <a href="{% url "post:post_new" %}">글쓰기</a>
                <a href="{% url "logout" %}">로그아웃</a>
                {% else %}
                <a href="{% url "login" %}?next={{ request.path }}">로그인</a>
                <!-- next 인자는 로그인 이후 이동할 url을 뜻함 -->
                <a href="{% url "signup" %}">회원가입</a>
                {% endif %}
                <form class="" action="{% url "post:post_list" %}" method="post">
                    {% csrf_token %}
                    <input type="text" name="tag" placeholder="태그 검색" required>
                    {# <input type="submit"> - input이 하나일 때는 별도의 submit 없이 엔터로 전송이 가능 #}
                </form>
            </div>
        {% block content %}
        {% endblock %}

        {% if messages %}
            <script type="text/javascript">
                {% for message in messages %}
                    alert("{{ message.message }}");
                {% endfor %}
            </script>
        {% endif %}
    </body>
</html>
